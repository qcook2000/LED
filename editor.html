<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="bootstrap.min.css">
    <link href="colorp/css/bootstrap-colorpicker.min.css" rel="stylesheet">
  </head>
  <body>
    <h1>Hello, world!</h1>
    <div id="master" role="tablist"></div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="jquery-3.2.1.min.js"></script>
    <script src="popper.min.js"></script>
    <script src="bootstrap.min.js"></script>
    <script src="colorp/js/bootstrap-colorpicker.js"></script>
    <script type="text/javascript">
        var project

        $.getJSON("PartyRemote.json", function(json) {
            project = json['animation']['animations']
            for (var key in obj) {
                var animCard = $('<div class="card"><div class="card-header" role="tab" id="head' + obj['animation']['typename'] + '"><h5 class="mb-0">' +
                                    '<a data-toggle="collapse"  aria-expanded="true" aria-controls="body' + obj['animation']['typename'] + '">' + obj['animation']['name'] + '</a>' +
                                '</h5></div>' +
                                '<div id="body' + obj['animation']['typename'] + '" class="collapse show" role="tabpanel" aria-labelledby="head' + obj['animation']['typename'] + '" data-parent="#accordion">' +
                                  '<div class="card-body"></div>' +
                                '</div></div>');
                animCard.appendTo('#master');
                animCard.find( ".card-body")

            } 
            printObject(null, project, $('#master'));
        });

        function printObject(name, obj, div) {
            if (typeof obj === 'number' || typeof obj === 'string') {
                var typeClass = typeof obj === 'number' ? 'number' : 'string';
                console.log(typeClass + ": " + name + ": " + obj);
                div.append('<div class="input-group">' + 
                    '<span class="input-group-addon">' + name + '</span>' +
                    '<input type="text" class="form-control ' + typeClass + '" placeholder="' + obj + '" aria-label="' + obj + '" aria-describedby="basic-addon1">' + 
                '</div>');
            } else if (typeof obj === 'boolean') {
                console.log("Bool: " + name + ": " + obj);
                div.append('<div class="input-group">' +
                        '<input type="checkbox" aria-label="' + name + '"></span>' +
                        '<input type="text" class="form-control" aria-label="Text input with checkbox">' + 
                        '<span class="input-group-addon"><input type="checkbox" aria-label="' + name + '"></span>' +
                    '</div>');
            } else if (Array.isArray(obj) && obj.length == 3 && 
                typeof obj[0] === 'number' && typeof obj[1] === 'number' && typeof obj[2] === 'number') {
                // COLOR!
                console.log("Color: " + name + ": " + obj);

                var picker = div.append('<div class="input-group colorpicker-component">' +
                        '<input type="text" value="#00AABB" class="form-control" />' +
                        '<span class="input-group-addon"><i></i></span>' +
                    '</div>')
                picker.colorpicker({
                    color: '#AA3399',
                    format: 'rgb'
                });
            } else if (typeof obj === 'object') {
                console.log("Object: " + name);
                for (var key in obj) {
                    printObject(key, obj[key], div);
                }
            } else {
                console.log("ERROR");
            }
        }
    </script>
  </body>
</html>